.layout{
  height:100dvh;
  display:grid;
  grid-template-columns: 64px 1fr 0px; /* palette narrow, canvas, inspector drawer overlay */
}
.palette{
  background:var(--panel);
  border-right:1px solid var(--border);
  padding:6px;
  display:flex;flex-direction:column;gap:6px;align-items:center;
}
.palette .group{display:flex;flex-direction:column;gap:6px;margin-top:10px;width:100%}
.palette .item{
  width:48px;height:48px;border:1px solid var(--border);border-radius:10px;background:var(--muted);
  display:flex;align-items:center;justify-content:center;cursor:grab;user-select:none;
}
.palette .item:hover{outline:2px solid rgba(91,157,255,.25)}
.canvas{position:relative}
.rf-wrapper{height:100%}

.node{
  background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);
  min-width:180px;max-width:240px;
}
.node .header{
  display:flex;align-items:center;gap:6px;padding:6px 8px;border-bottom:1px solid var(--border);
}
.node .title{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.badge{font-size:10px;padding:2px 6px;border-radius:999px;background:rgba(91,157,255,.18);border:1px solid rgba(91,157,255,.3)}

.node .body{padding:6px 8px;color:var(--sub)}
.toolbar{display:flex;gap:4px}
.iconbtn{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:6px;border:1px solid var(--border);background:var(--muted)}
.iconbtn:hover{outline:2px solid rgba(255,255,255,.08)}

.drawer{
  position:fixed;top:0;right:0;height:100dvh;width:380px;background:var(--panel);
  border-left:1px solid var(--border);box-shadow:var(--shadow);padding:12px;display:flex;flex-direction:column;gap:10px;
}
.drawer header{display:flex;align-items:center;justify-content:space-between}
.form{display:flex;flex-direction:column;gap:10px}
.row{display:flex;gap:8px}
.row>*{flex:1}
.kv{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.tag{font-size:11px;padding:2px 6px;border-radius:6px;background:var(--muted);border:1px solid var(--border)}
.minimap{position:absolute;right:10px;bottom:10px;background:rgba(0,0,0,.3);padding:4px 6px;border:1px solid var(--border);border-radius:6px}
